{% load indent_text %}
{% if use_subgraph %} subgraph {{ graph.cluster_app_name }} {
    label=<
          <table border="0" cellborder="0" cellspacing="0">
            <tr>
              <td colspan="2" cellpadding="4" align="center">
                <font face='Helvetic Bold' color="#000000" point-size="12">{{ graph.app_name }}</font>
              </td>
            </tr>
          </table>
          >
    color="#333366"
    style="rounded"
{% endif %}
{% indentby 2 if use_subgraph %}{% for model in graph.models %}
  {{ model.app_name }}_{{ model.name }} [label=<
    <table bgcolor="#ebebeb" border="1" cellborder="0" cellspacing="0">
      <tr>
        <td colspan="2" cellpadding="4" align="center" bgcolor="#333366">
          <font face="Helvetica Bold" color="#ffffff">
            {{ model.label }}{% if model.abstracts %}<br/>&lt;<font face="Helvetica Italic">{{ model.abstracts|join:"," }}</font>&gt;{% endif %}
          </font>
        </td>
      </tr>
  {% if not disable_fields %}{% for field in model.fields %}
      <tr>
        <td align="left" border="0">
          <font {% if not field.primary_key and field.blank %}COLOR="#7B7B7B" {% endif %}FACE="Helvetica {% if field.abstract %}Italic{% endif %}{% if field.relation or field.primary_key %}Bold{% endif %}">{{ field.label }}</font>
        </td>
        <td align="left">
          <font {% if not field.primary_key and field.blank %}COLOR="#7B7B7B" {% endif %}FACE="Helvetica {% if field.abstract %}Italic{% endif %}{% if field.relation or field.primary_key %}Bold{% endif %}">{{ field.type }}</font>
        </td>
      </tr>
  {% endfor %}{% endif %}
    </table>
    >]
{% endfor %}{% endindentby %}
{% if use_subgraph %}  }{% endif %}
